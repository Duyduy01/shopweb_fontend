"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[40],{33040:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"product-header"},[a("h1",[t._v("Danh sách sản phẩm")]),a("div",{staticClass:"m-admin-product-action-add"},[a("router-link",{attrs:{to:"/admin/product/add"}},[a("button",{staticClass:"btn btn-outline-primary"},[t._v(" Thêm sản phẩm ")])])],1)]),a("div",{staticClass:"between:flex bottom:margin-3"},[a("div",{staticClass:"center:flex-items"},[a("span",{staticClass:"right:margin-1"},[t._v("Hiển thị")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentEntries,expression:"currentEntries"}],staticClass:"select",staticStyle:{width:"5rem"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentEntries=e.target.multiple?a:a[0]},t.paginateEntries]}},t._l(t.showEntries,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),a("span",{staticClass:"left:margin-1"},[t._v("mục")])]),a("div",{staticClass:"end:flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"input px:width-25",attrs:{type:"search",placeholder:"Tìm kiếm tại đấy..."},domProps:{value:t.searchInput},on:{keyup:t.searchEvent,input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})])]),a("div",[a("table",{staticClass:"table table:border secondary-5:border"},[a("thead",[a("tr",t._l(t.tableHeader,(function(e){return a("th",{key:e.name},[a("div",{staticClass:"between:flex center:items"},[a("span",[t._v(t._s(e.text))]),a("span",{on:{click:function(a){return a.preventDefault(),t.sortByColumn(e.name)}}},[null==t.check?a("div",[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-sort"}})],1):t._e(),0==t.check?a("div",[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-sort-down"}})],1):t._e(),t.check?a("div",[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-sort-up"}})],1):t._e()])])])})),0),a("tr",[a("td"),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.col.productName,expression:"col.productName"}],staticClass:"input",attrs:{type:"search",placeholder:"Lọc tên sản phẩm...."},domProps:{value:t.col.productName},on:{keyup:t.filterByColumn,input:function(e){e.target.composing||t.$set(t.col,"productName",e.target.value)}}})]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.col.productCode,expression:"col.productCode"}],staticClass:"select",attrs:{name:"",id:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.col,"productCode",e.target.multiple?a:a[0])},t.filterByColumn]}},[a("option",{attrs:{value:""}},[t._v("--Lọc mã sản phẩm --")]),t._l(t.uniqColumData("productCode"),(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)]),a("td"),a("td"),a("td"),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.col.active,expression:"col.active"}],staticClass:"select",attrs:{name:"",id:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.col,"active",e.target.multiple?a:a[0])},t.filterByColumn]}},[a("option",{attrs:{value:""}},[t._v("--Lọc trạng thái--")]),t._l(t.uniqColumData("active"),(function(e){return a("option",{key:e,domProps:{value:e}},[1==e?a("div",[t._v("Hoạt động")]):t._e(),-1==e?a("div",[t._v("không hoạt động")]):t._e()])}))],2)]),a("td"),a("td")])]),a("tbody",t._l(t.tableData,(function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),a("td",[t._v(t._s(e.productName))]),a("td",[t._v(t._s(e.productCode))]),a("td",[t._v(t._s(t.toMoney(e.priceSell)))]),a("td",[t._v(t._s(t.toMoney(e.price)))]),a("td",[a("img",{attrs:{src:e.img,alt:"",width:"100px",height:"100px"}})]),a("td",[a("el-switch",{on:{change:function(a){return t.updateStatus(e.id)}},model:{value:e.boolActive,callback:function(a){t.$set(e,"boolActive",a)},expression:"td.boolActive"}})],1),a("td",[t._v(t._s(e.quantity))]),a("td",[0==e.sale?a("div",{staticClass:"action"},[a("div",{staticClass:"button-show-modal m-product-cart-button-clear",attrs:{id:"one"}},[e.checkChildren?a("button",{staticClass:"clear-test",attrs:{type:"button",id:"m-into-choose-product"},on:{click:function(a){return t.openModal(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}})],1):t._e()]),a("div",{staticClass:"m-product-cart-button-clear"},[a("button",{staticClass:"clear-test",attrs:{type:"button",id:"m-into-choose-product"},on:{click:function(a){return t.edit(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-pen-to-square"}})],1)])]):t._e(),0!=e.sale?a("div",{staticClass:"action"},[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"}},[t._v("Đang chạy chiến dịch")])]):t._e()])])})),0)])]),a("div",{staticClass:"between:flex y:margin-3"},[a("div",[t._v(" Hiển thị từ "+t._s(t.showInfo.from)+" đến "+t._s(t.showInfo.to)+" / "+t._s(t.showInfo.of)+" ")]),a("div",{staticClass:"end:flex"},[a("ul",{staticClass:"pagination:nav"},[a("li",{class:["nav-item",{disabled:1===t.currentPage}]},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage=1,t.paginateEntries()}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-angles-left"}})],1)]),a("li",{class:["nav-item",{disabled:1===t.currentPage}]},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage<1?t.currentPage=1:t.currentPage-=1,t.paginateEntries()}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-left"}})],1)]),t._l(t.showPagination,(function(e){return a("li",{key:e,class:["nav-item",{ellipsis:"..."===e,active:e===t.currentPage}]},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.paginateEvent(e)}}},[t._v(t._s(e))])])})),a("li",{class:["nav-item",{disabled:t.currentPage===t.allPages}]},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage>t.allPages?t.currentPage=t.allPages:t.currentPage+=1,t.paginateEntries()}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-right"}})],1)]),a("li",{class:["nav-item",{disabled:t.currentPage===t.allPages}]},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage=t.allPages,t.paginateEntries()}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-angles-right"}})],1)])],2)])]),a("div",{attrs:{id:"modal-container"}},[a("div",{staticClass:"modal-background"},[a("div",{staticClass:"modal",staticStyle:{width:"90%",height:"90vh"}},[a("div",{staticClass:"table-wrapper-scroll-modal-y my-custom-scrollbar-modal p-5"},[t._m(0),t._m(1),a("div",{staticClass:"m-product-cart-context table-wrapper-scroll-y my-custom-scrollbar",staticStyle:{height:"70vh"}},[a("table",{staticClass:"table"},[a("thead",t._l(t.tableHeader,(function(e){return a("th",{key:e.name},[a("span",[t._v(t._s(e.text))])])})),0),a("tbody",t._l(t.listEntriesChild,(function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e.productName))]),a("td",[t._v(t._s(e.productCode))]),a("td",[t._v(t._s(t.toMoney(e.priceSell)))]),a("td",[t._v(t._s(t.toMoney(e.price)))]),a("td",[a("img",{attrs:{src:e.img,alt:"",width:"100px",height:"100px"}})]),a("td",[1==e.active?[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(" Kích hoạt ")])]:t._e(),-1==e.active?[a("button",{staticClass:"btn btn-warning",attrs:{type:"button"}},[t._v(" Không kích hoạt ")])]:t._e()],2),a("td",[t._v(t._s(e.quantity))]),a("td",[a("div",{staticClass:"action"},[a("div",{staticClass:"m-product-cart-button-clear"},[a("button",{staticClass:"clear-test",attrs:{type:"button",id:"m-into-choose-product"},on:{click:function(a){return t.edit(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-pen-to-square"}})],1)])])])])})),0)])])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center mt-2 header-modal-customer"},[a("h2",[t._v("Danh sách sản phẩm")]),a("div",{staticClass:"button-show-modal-out"},[a("i",{staticClass:"fas fa-times"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"m-admin-product-action-search"},[a("form",{staticClass:"d-flex justify-content-center",attrs:{action:""}},[a("input",{staticClass:"w-70",attrs:{type:"text",placeholder:"Tìm kiếm theo tên sản phẩm"}})])])])}],s=a(75587),r=a(32309),o=a(74029),c=a.n(o),l={name:"AdminProduct",components:{},data(){return{columns:[{name:"id",text:"ID"},{name:"productName",text:"Tên sản phẩm"},{name:"productCode",text:"Mã sản phẩm"},{name:"priceSell",text:"Giá bán"},{name:"price",text:"Giá nhập"},{name:"img",text:"Ảnh"},{name:"active",text:"Trạng thái"},{name:"quantity",text:"Số lượng"},{name:"#",text:"Hành động"}],entries:[],showEntries:[5,10,15,25,50,72,100],currentEntries:10,filteredEntries:[],currentPage:1,allPages:1,searchInput:"",searchEntries:[],col:{id:"",productName:"",productCode:"",priceSell:"",price:"",img:"",active:"",quantity:""},sortcol:{id:"",productName:"",productCode:"",priceSell:"",price:"",img:"",active:"",quantity:""},check:null,listEntriesChild:[]}},computed:{showInfo(){return s.uh.show(this.getCurrentEntries(),this.currentPage,this.currentEntries)},showPagination(){return s.uh.pagination(this.allPages,this.currentPage,2)},tableHeader(){return this.columns},tableData(){return this.filteredEntries}},created(){(0,r.de)().then((t=>{this.entries=t,this.paginateData(this.entries)}))},methods:{paginateEntries(){this.searchInput.length>0?(this.searchEntries=s.uh.search(this.entries,this.searchInput),this.paginateData(this.searchEntries)):(this.searchEntries=[],this.paginateData(this.entries),this.col={id:"",productName:"",productCode:"",priceSell:"",price:"",img:"",active:"",quantity:""})},paginateEvent(t){this.currentPage=t,this.paginateEntries()},searchEvent(){this.currentPage=1,this.paginateEntries()},paginateData(t){this.filteredEntries=s.uh.paginate(t,this.currentPage,this.currentEntries),this.allPages=s.uh.pages(t,this.currentEntries)},getCurrentEntries(){return this.searchInput.length<=0?this.entries:this.searchEntries},uniqColumData(t){return s.uh.unique(this.getCurrentEntries(),t)},filterByColumn(){const t=s.T4.removeBy(this.col,"");let e=this.getCurrentEntries();Object.entries(t).length>=1&&(e=s.uh.filtered(this.getCurrentEntries(),t)),this.paginateData(e)},sortByColumn(t){this.col={id:"",productName:"",productCode:"",priceSell:"",description:"",img:"",active:"",quantity:""};let e=this.getCurrentEntries(),a=this.sortcol[t];""===a?(this.sortcol[t]="asc",e=s.uh.sorted(this.getCurrentEntries(),t,"asc"),this.check=!1):"asc"===a?(this.sortcol[t]="desc",e=s.uh.sorted(this.getCurrentEntries(),t,"desc"),this.check=!0):"desc"===a&&(this.sortcol[t]="",this.check=null),this.paginateData(e)},openModal(t){c()(".button-show-modal").click((function(){var t=c()(this).attr("id");c()("#modal-container").removeAttr("class").addClass(t),c()("body").addClass("modal-active")})),c()(".button-show-modal-out").click((function(){c()("#modal-container").addClass("out"),c()("body").removeClass("modal-active")})),(0,r.Et)(t).then((t=>{this.listEntriesChild=t}))},edit(t){let e="/admin/product/edit/"+t;this.$router.push(e)},updateStatus(t){(0,r.Nf)(t)},toMoney(t){var e=new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"});return e.format(t)}},mounted(){}},u=l,d=a(43736),h=(0,d.Z)(u,n,i,!1,null,"e24e2956",null),p=h.exports},32309:function(t,e,a){a.d(e,{DN:function(){return d},Eo:function(){return o},Et:function(){return c},Nf:function(){return l},de:function(){return r},gK:function(){return u},zG:function(){return h}});var n=a(31223),i=a(26166);let s=(0,n.X)();function r(){return new Promise(((t,e)=>{var a={method:"get",url:s+"/api/v1/admin/product",headers:{"Content-Type":"application/json"}};i(a).then((function(e){t(e.data.data)})).catch((function(t){e(t)}))}))}function o(){return new Promise(((t,e)=>{var a={method:"get",url:s+"/api/v1/admin/product/parent",headers:{"Content-Type":"application/json"}};i(a).then((function(e){t(e.data.data)})).catch((function(t){e(t)}))}))}function c(t){return new Promise(((e,a)=>{var n={method:"get",url:s+"/api/v1/admin/product/?id="+t,headers:{"Content-Type":"application/json"}};i(n).then((function(t){e(t.data.data)})).catch((function(t){a(t)}))}))}function l(t){return new Promise(((e,a)=>{var n={method:"POST",url:s+"/api/v1/admin/product/status/?id="+t,headers:{"Content-Type":"application/json"}};i(n).then((function(t){e(t.data.data)})).catch((function(t){a(t)}))}))}function u(t){return new Promise(((e,a)=>{var n={method:"post",url:s+"/api/v1/admin/product",headers:{},data:t};i(n).then((function(t){e(t.data)})).catch((function(t){a(t)}))}))}function d(t){return new Promise(((e,a)=>{var n={method:"get",url:s+"/api/v1/admin/product/detail/?id="+t,headers:{"Content-Type":"application/json"}};i(n).then((function(t){e(t.data.data)})).catch((function(t){a(t)}))}))}function h(t){return new Promise(((e,a)=>{var n={method:"PUT",url:s+"/api/v1/admin/product",headers:{},data:t};i(n).then((function(t){e(t)})).catch((function(t){a(t)}))}))}}}]);
//# sourceMappingURL=40.a8b397f9.js.map