"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[221],{26221:function(n,t,e){e.r(t),e.d(t,{default:function(){return h}});var o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"l-page-desgin"},[n._m(0),e("form",{ref:"form",attrs:{method:""},on:{submit:function(t){return t.preventDefault(),n.verify.apply(null,arguments)}}},[e("div",{staticClass:"form-login-input-page"},[n._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:n.code,expression:"code"}],attrs:{type:"text",id:"email",placeholder:"Mã xác nhận *",name:"verificationCode"},domProps:{value:n.code},on:{input:function(t){t.target.composing||(n.code=t.target.value)}}})]),e("div",{staticClass:"l-list-button-page"},[e("div",{staticClass:"l-button-login-page-forgot text-center"},[e("button",{staticClass:"submit",attrs:{type:"submit",id:"login"}},[n._v("Xác nhận")]),e("button",{staticClass:"ml-2 sendTo",attrs:{type:"button",id:"login"},on:{click:n.sendCodeToEmail}},[n._v(" Gửi lại ")])])])])])])])},i=[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"l-detail-page-forgot forgot-design"},[e("div",[e("h1",[n._v("Xác nhận email")])]),e("div",[e("p",[n._v(" Chúng tôi sẽ gửi cho bạn một email hãy kiểm tra và xác nhập code. ")])])])},function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"l-themes-page"},[e("label",{attrs:{for:"email"}},[n._v("Mã xác nhận *")])])}],a=(e(38862),e(32424)),s=e(6409),r=e(90927),c={name:"Verify",mixins:[a.oE],props:["email"],data:function(){return{code:"",submitted:!1}},created:function(){window.scrollTo(0,0)},validations:{code:{required:s.C1,numeric:s.uR,minLength:(0,s.Ei)(6),maxLength:(0,s.BS)(6)}},methods:{check:function(){console.log("user"+localStorage.getItem("user"))},verify:function(n){var t=this;if(n.preventDefault(),this.submitted=!0,this.$v.$touch(),this.$v.$invalid)console.log("error register");else{var e=JSON.stringify({email:this.email,verificationCode:this.code});(0,r.lm)(e).then((function(n){console.log(n);var e="/dang-nhap";t.$swal("Thành công","Đăng ký thành công !","success"),t.$router.push(e)})).catch((function(n){console.log(n),console.log("that bai"),t.$swal("Xác nhận","Mã xác nhận không đúng !","error")}))}},sendCodeToEmail:function(){var n=this,t=JSON.stringify({email:this.email});(0,r.K_)(t).then((function(t){console.log(t),n.$swal("Gửi mã xác nhận thành công","Quý khách vui lòng kiểm tra gmail sử dụng để đăng ký tài khoản!","success")})).catch((function(t){console.log(t),console.log("that bai"),n.$swal("Xác nhận","Mã xác nhận không đúng !","error")}))}}},l=c,u=e(43736),d=(0,u.Z)(l,o,i,!1,null,"3d9b2c3d",null),h=d.exports},90927:function(n,t,e){e.d(t,{K_:function(){return r},TO:function(){return c},lm:function(){return s}});e(41539);var o=e(31223),i=e(26166),a=(0,o.X)();function s(n){return new Promise((function(t,e){var o={method:"post",url:a+"/api/v1/user/email/verify",headers:{"Content-Type":"application/json"},data:n};i(o).then((function(n){t(n.data.data)})).catch((function(n){console.log(n),e("Wrong email or password")}))}))}function r(n){return new Promise((function(t,e){var o={method:"post",url:a+"/api/v1/user/sendCode/verify",headers:{"Content-Type":"application/json"},data:n};i(o).then((function(n){t(n.data.data)})).catch((function(n){console.log(n),e("Wrong email or password")}))}))}function c(n){return new Promise((function(t,e){var o={method:"post",url:a+"/api/v1/user/register",headers:{"Content-Type":"application/json"},data:n};i(o).then((function(n){t(n.data.data)})).catch((function(n){console.log(n),e("Wrong email or password")}))}))}}}]);
//# sourceMappingURL=221-legacy.358b3957.js.map