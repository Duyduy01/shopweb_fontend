"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[471],{1471:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"main"},[r("div",{staticClass:"container"},[r("div",{staticClass:"l-page-desgin"},[r("div",{staticClass:"l-detail-page"},[e._m(0),r("div",{staticClass:"l-themes-register-page"},[r("h1",[r("router-link",{attrs:{to:"/dang-nhap"}},[e._v("Đăng nhập")])],1)])]),r("form",{ref:"form",attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[r("div",{staticClass:"form-login-input-page"},[e._m(1),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.username.$model,expression:"$v.username.$model",modifiers:{trim:!0}}],attrs:{type:"email",id:"email",placeholder:"Email*",name:"username"},domProps:{value:e.$v.username.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.username,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.username.required?r("div",{staticClass:"error"},[e._v(" Tài khoản không thể để trống ")]):e._e(),e.$v.username.email?e._e():r("div",{staticClass:"error"},[e._v(" Trường này phải là email. ")])]),r("div",{staticClass:"form-login-input-page"},[e._m(2),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.password.$model,expression:"$v.password.$model",modifiers:{trim:!0}}],attrs:{type:"password",id:"password",placeholder:"Mật khẩu *",name:"password"},domProps:{value:e.$v.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.password.required?r("div",{staticClass:"error"},[e._v(" Mật khẩu không thể để trống ")]):e._e(),e.$v.password.minLength?e._e():r("div",{staticClass:"error"},[e._v(" Mật khẩu phải có ít nhất "+e._s(e.$v.password.$params.minLength.min)+" kí tự. ")]),e.$v.password.maxLength?e._e():r("div",{staticClass:"error"},[e._v(" Mật khẩu phải ít hơn "+e._s(e.$v.password.$params.maxLength.max)+" kí tự. ")])]),r("div",{staticClass:"form-login-input-page"},[e._m(3),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.repeatPassword.$model,expression:"$v.repeatPassword.$model",modifiers:{trim:!0}}],attrs:{type:"password",id:"password",placeholder:"Mật khẩu *",name:"password"},domProps:{value:e.$v.repeatPassword.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.repeatPassword,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.repeatPassword.required?r("div",{staticClass:"error"},[e._v(" Mật khẩu không thể để trống ")]):e._e(),e.$v.repeatPassword.sameAsPassword?e._e():r("div",{staticClass:"error"},[e._v(" Nhập lại mật khẩu. ")])]),r("div",{staticClass:"form-login-input-page"},[e._m(4),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.fullName.$model,expression:"$v.fullName.$model",modifiers:{trim:!0}}],attrs:{type:"text",id:"fullname",placeholder:"Họ và tên",name:"fullName"},domProps:{value:e.$v.fullName.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.fullName,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.fullName.required?r("div",{staticClass:"error"},[e._v(" Họ và tên không thể để trống ")]):e._e(),e.$v.fullName.minLength?e._e():r("div",{staticClass:"error"},[e._v(" Họ và tên phải có ít nhất "+e._s(e.$v.fullName.$params.minLength.min)+" kí tự. ")]),e.$v.fullName.maxLength?e._e():r("div",{staticClass:"error"},[e._v(" Họ và tên phải ít hơn "+e._s(e.$v.fullName.$params.maxLength.max)+" kí tự. ")])]),r("div",{staticClass:"form-login-input-page"},[e._m(5),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.phone.$model,expression:"$v.phone.$model",modifiers:{trim:!0}}],attrs:{type:"text",id:"phone",placeholder:"Số điện thoại*",name:"phone"},domProps:{value:e.$v.phone.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.phone,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.phone.required?r("div",{staticClass:"error"},[e._v(" Số điện thoại không thể để trống ")]):e._e(),e.$v.phone.numeric?e._e():r("div",{staticClass:"error"},[e._v(" Số điện thoại phải là số ")]),e.$v.phone.minLength?e._e():r("div",{staticClass:"error"},[e._v(" Số điện thoại phải có ít nhất "+e._s(e.$v.phone.$params.minLength.min)+" kí tự. ")]),e.$v.phone.maxLength?e._e():r("div",{staticClass:"error"},[e._v(" Số điện thoại phải ít hơn "+e._s(e.$v.phone.$params.maxLength.max)+" kí tự. ")])]),r("div",{staticClass:"form-login-input-page"},[e._m(6),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.address.$model,expression:"$v.address.$model",modifiers:{trim:!0}}],attrs:{type:"text",id:"phone",placeholder:"Địa chỉ*",name:"address"},domProps:{value:e.$v.address.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.address,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.address.required?r("div",{staticClass:"error"},[e._v(" Địa chỉ không thể để trống ")]):e._e(),e.$v.address.minLength?e._e():r("div",{staticClass:"error"},[e._v(" Địa chỉ phải có ít nhất "+e._s(e.$v.address.$params.minLength.min)+" kí tự. ")])]),r("div",{staticClass:"l-list-button-page"},[r("div",{staticClass:"l-button-register-page"},[r("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"register",attrs:{type:"click",id:"register"}},[e._v(" Đăng ký ")])])])])])])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-login-page"},[r("h1",[e._v("Đăng ký")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-page"},[r("label",{attrs:{for:"email"}},[e._v("Email *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-page"},[r("label",{attrs:{for:"password"}},[e._v("Mật khẩu *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-page"},[r("label",{attrs:{for:"password"}},[e._v("Nhập lại mật khẩu *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-page"},[r("label",{attrs:{for:"fullname"}},[e._v("Họ và tên")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-page"},[r("label",{attrs:{for:"phone"}},[e._v("Số điện thoại *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-themes-page"},[r("label",{attrs:{for:"phone"}},[e._v("Địa chỉ *")])])}],n=(r(38862),r(90927)),i=r(32424),o=r(6409),l={name:"register",mixins:[i.oE],data:function(){return{username:"",password:"",repeatPassword:"",fullName:"",phone:"",address:"",submitted:!1,fullscreenLoading:!1}},created:function(){window.scrollTo(0,0)},validations:{username:{required:o.C1,email:o.Do},password:{required:o.C1,minLength:(0,o.Ei)(6),maxLength:(0,o.BS)(20)},repeatPassword:{required:o.C1,sameAsPassword:(0,o.sH)("password")},fullName:{required:o.C1,minLength:(0,o.Ei)(6),maxLength:(0,o.BS)(20)},phone:{required:o.C1,numeric:o.uR,minLength:(0,o.Ei)(10),maxLength:(0,o.BS)(11)},address:{required:o.C1,minLength:(0,o.Ei)(10)}},methods:{alterError:function(){this.$swal("Đăng ký lỗi","email đã tồn tại !","error")},register:function(e){var t=this;if(e.preventDefault(),this.submitted=!0,this.$v.$touch(),this.$v.$invalid)console.log("error register");else{t.openFullScreen1();var r=JSON.stringify({username:this.username,password:this.password,fullName:this.fullName,phone:this.phone,address:this.address});(0,n.TO)(r).then((function(e){console.log(e),t.fullscreenLoading=!1,t.$swal("Thành công","Quý khách kiểm tra email để lấy mã xác minh tài khoản !","success").then((function(){var e="/xac-minh/"+t.username;t.$router.push(e)}))})).catch((function(e){t.fullscreenLoading=!1,console.log(e),console.log("that bai"),t.$swal("Đăng ký lỗi","email đã tồn tại !","error")}))}},openFullScreen1:function(){var e=this;this.fullscreenLoading=!0,1==this.fullscreenLoading&&setTimeout((function(){e.fullscreenLoading=!1}),8e3)}}},d=l,m=r(43736),u=(0,m.Z)(d,a,s,!1,null,"9a050c7c",null),c=u.exports},90927:function(e,t,r){r.d(t,{K_:function(){return o},TO:function(){return l},lm:function(){return i}});r(41539);var a=r(31223),s=r(26166),n=(0,a.X)();function i(e){return new Promise((function(t,r){var a={method:"post",url:n+"/api/v1/user/email/verify",headers:{"Content-Type":"application/json"},data:e};s(a).then((function(e){t(e.data.data)})).catch((function(e){console.log(e),r("Wrong email or password")}))}))}function o(e){return new Promise((function(t,r){var a={method:"post",url:n+"/api/v1/user/sendCode/verify",headers:{"Content-Type":"application/json"},data:e};s(a).then((function(e){t(e.data.data)})).catch((function(e){console.log(e),r("Wrong email or password")}))}))}function l(e){return new Promise((function(t,r){var a={method:"post",url:n+"/api/v1/user/register",headers:{"Content-Type":"application/json"},data:e};s(a).then((function(e){t(e.data.data)})).catch((function(e){console.log(e),r("Wrong email or password")}))}))}}}]);
//# sourceMappingURL=471-legacy.ee858cfb.js.map