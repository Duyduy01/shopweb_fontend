"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[736],{47736:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("div",{staticClass:"container-fluid mt-5"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[t._m(1),i("div",{staticClass:"m-filter ml-2 m-filter-main"},[i("div",{staticClass:"m-filter-cate"},[t._m(2),t._l(t.listCate,(function(e,n){return i("div",{key:e.id,staticClass:"m-filter-padding"},[i("div",{staticClass:"row ml-1"},[i("div",{staticClass:"col-3 m-filter-obj"},[i("label",{class:t.listFilter.category[0]==t.listKeyCate(n)[0]?"active":"",attrs:{for:"cate-"+t.listKeyCate(n)[0]}},[t._v(t._s(t.listKeyCate(n)[1]))]),i("input",{staticClass:"m-fitler-active",attrs:{type:"radio",name:"cateId",id:"cate-"+t.listKeyCate(n)[0],"data-id":t.listKeyCate(n)[0],"data-code":"cateId",hidden:""},on:{click:t.activeCate}})])]),i("div",{staticClass:"row ml-3"},t._l(t.listCate[n],(function(e){return i("div",{key:e.id,staticClass:"col-6 m-filter-obj"},[i("label",{class:t.listFilter.category[0]==e.id?"active":"",attrs:{for:"cate-"+e.id}},[t._v(t._s(e.categoryName))]),i("input",{staticClass:"m-fitler-active",attrs:{type:"radio",name:"cateId",id:"cate-"+e.id,"data-id":e.id,"data-code":"cateId",hidden:""},on:{click:t.activeCate}})])})),0)])}))],2),i("div",{staticClass:"m-filter-brand"},[t._m(3),i("div",{staticClass:"row m-filter-padding"},t._l(t.listBrand,(function(e){return i("div",{key:e.id,staticClass:"col-4 m-filter-obj"},[i("label",{attrs:{for:"brand-"+e.id}},[t._v(t._s(e.brandName))]),i("input",{staticClass:"m-fitler-active",attrs:{type:"radio",name:"brandId",id:"brand-"+e.id,"data-id":e.id,"data-code":"brandId",hidden:""},on:{click:t.activeFilter}})])})),0)]),i("div",{staticClass:"m-filter-color"},[t._m(4),i("div",{staticClass:"row m-filter-padding"},t._l(t.listAllColor,(function(e){return i("div",{key:e.id,staticClass:"col-3 m-filter-color-object"},[i("label",{style:"background-color:"+e.featuredCode,attrs:{for:"color-"+e.id}}),i("input",{attrs:{type:"checkbox",id:"color-"+e.id,name:"color","data-id":e.id,"data-code":"color",hidden:""},on:{click:t.activeSpe}})])})),0)]),t._l(t.listAllSpe,(function(e,n){return i("div",{key:e.id,staticClass:"m-filter-spe"},[i("div",[i("h5",[t._v(t._s(n))])]),i("div",{staticClass:"row m-filter-padding"},t._l(e,(function(e){return i("div",{key:e.id,staticClass:"col-4 m-filter-obj"},[i("label",{attrs:{for:n+"-"+e.id}},[t._v(t._s(e.description))]),i("input",{staticClass:"m-fitler-active",attrs:{type:"checkbox",name:n,id:n+"-"+e.id,"data-id":e.id,"data-code":e.featuredKey,hidden:""},on:{click:t.activeSpe}})])})),0)])}))],2)]),i("div",{staticClass:"col-9"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"m-header"},[i("div",{staticClass:"m-sort-right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],attrs:{name:"sort",id:"m-sort"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?i:i[0]},t.sortFilter]}},[i("option",{attrs:{value:"1"}},[t._v("Mới Nhất")]),i("option",{attrs:{value:"2"}},[t._v("Bán chạy nhất")]),i("option",{attrs:{value:"3"}},[t._v("Giá từ cao tới thấp")]),i("option",{attrs:{value:"4"}},[t._v("Giá từ thấp tới cao")])])])]),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[0==t.listProduct.length?i("h3",{staticClass:"text-center"},[t._v(" Không có sản phẩm nào ! ")]):t._e()]),t._l(t.listProduct,(function(e){return i("div",{key:e.id,staticClass:"mt-5 col-3"},[i("div",{staticClass:"product-list"},[i("router-link",{attrs:{to:"/chi-tiet-san-pham/"+e.id}},[i("div",{staticClass:"single-gallery-image",style:"background: url("+e.img+")"})]),i("div",{staticClass:"product-action"},[i("button",{staticClass:"icon-heart",domProps:{innerHTML:t._s(e.favorite?t.like:t.dislike)},on:{click:function(i){return t.favoriteProduct(e)}}})])],1),i("div",{staticClass:"product-detail"},[i("div",{staticClass:"product-name"},[i("router-link",{attrs:{to:"/chi-tiet-san-pham/"+e.id}},[t._v(" "+t._s(e.productName)+" ")])],1),i("div",{staticClass:"price-sell"},[0!=e.sale?i("span",[i("span",{staticStyle:{color:"black","text-decoration":"line-through"}},[t._v(t._s(t.toMoney(e.priceSell/((100-e.sale)/100)))+" ")]),i("span",[t._v("- "+t._s(t.toMoney(e.priceSell))+" (-"+t._s(e.sale)+")%")])]):t._e(),0==e.sale?i("span",{staticStyle:{color:"black"}},[t._v(" "+t._s(t.toMoney(e.priceSell))+" ")]):t._e()])])])}))],2)])]),i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"page-size":1,"current-page":t.listFilter.page[0]},on:{"current-change":t.handleCurrentChange}})],1)])])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-banner"},[i("div",{staticClass:"m-banner-details"},[i("span")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-filter-header"},[i("h4",[t._v("Danh sách bộ lọc")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h5",[t._v("Loại sản phẩm")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h5",[t._v("Nhãn hiệu")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h5",[t._v("Màu sắc")])])}],r=i(16198),o=(i(78975),i(41539),i(54747),i(68309),i(57327),i(74916),i(23123),i(38862),i(2707),i(17431)),c=i(51048),s=i(47566),l=i(64732),d={name:"UserProduct",props:["cateId"],data:function(){return{listProduct:[],listCate:{},listBrand:[],listAllSpe:{},listAllColor:[],listNameSpe:[],banner:"",listFilter:{category:[],brand:[],sort:[1],page:[1],limit:[8]},totalPage:1,sort:1,dislike:'<i class="far fa-heart"></i>',like:'<i class="fas fa-heart"></i>'}},created:function(){var t=this;(0,c.I)().then((function(e){t.listCate=e})),(0,s.lR)().then((function(e){t.listBrand=e})),(0,l.U1)().then((function(e){t.listAllSpe=e;var i="Màu sắc";t.listAllColor=e[i],delete t.listAllSpe[i]})),(0,l.iE)().then((function(e){e.forEach((function(e){t.listFilter[e]=[]}))})),this.checkCateActive(),this.callFilter(),window.scrollTo(0,0)},computed:{getCateId:function(){return this.cateId}},watch:{getCateId:function(){this.listFilter.category=[this.getCateId],this.listFilter.page=[1],this.callFilter(),window.scrollTo(0,0)}},methods:{activeFilter:function(t){var e=t.path[0].getAttribute("data-code");"brandId"==e&&this.activeBrand(t),this.listFilter.page=[1],this.callFilter(),window.scrollTo(0,0)},activeCate:function(t){var e=t.path[0].getAttribute("data-id");this.$router.push("/san-pham/".concat(e)).catch((function(t){if("NavigationDuplicated"!=t.name)throw t}))},activeBrand:function(t){var e=t.path[1].childNodes[0],i=t.path[0].getAttribute("data-id"),n=document.querySelectorAll(".m-filter-brand>div>.m-filter-obj>label");n.forEach((function(t){t.classList.remove("active")})),e.classList.add("active"),this.listFilter.brand=[i]},activeSpe:function(t){var e=t.path[1].childNodes[0],i=t.path[0].checked,n=t.path[0].getAttribute("data-id"),a=t.path[0].getAttribute("data-code");i?(e.classList.add("active"),this.listFilter[a].push(n)):(e.classList.remove("active"),this.listFilter[a]=this.listFilter[a].filter((function(t){return t!=n}))),this.listFilter.page=[1],this.callFilter()},listKeyCate:function(t){var e=t.split(",");return e},toMoney:function(t){var e=new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"});return e.format(t)},callFilter:function(){var t=this,e=JSON.stringify(this.listFilter);(0,o.Vo)(e).then((function(e){t.totalPage=+e})),(0,o.BY)(e).then((function(e){t.listProduct=e})),this.getTotalPage,window.scrollTo(0,0)},checkCateActive:function(){0!=this.cateId&&(this.listFilter.category=[this.cateId])},handleCurrentChange:function(t){this.listFilter.page=[t],this.callFilter()},sortFilter:function(){this.listFilter.sort=[this.sort],this.listFilter.page=[1],this.callFilter()},favoriteProduct:function(t){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=e.$root.$refs.userHeader.favoriteProductHeader(t.id),n.then((function(e){t.favorite=1!=e}));case 2:case"end":return i.stop()}}),i)})))()}}},u=d,f=i(43736),h=(0,f.Z)(u,n,a,!1,null,"42ae7342",null),p=h.exports},47566:function(t,e,i){i.d(e,{PZ:function(){return d},Y2:function(){return s},iC:function(){return c},lR:function(){return o},zI:function(){return l}});i(41539);var n=i(31223),a=i(26166),r=(0,n.X)();function o(){return new Promise((function(t,e){var i={method:"get",url:r+"/api/v1/user/brand",headers:{"Content-Type":"application/json"}};a(i).then((function(e){t(e.data.data)})).catch((function(t){e(t)}))}))}function c(){return new Promise((function(t,e){var i={method:"get",url:r+"/api/v1/admin/brand",headers:{"Content-Type":"application/json"}};a(i).then((function(e){t(e.data.data)})).catch((function(t){e(t)}))}))}function s(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/admin/brand",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data)})).catch((function(t){console.log(t),i(t)}))}))}function l(t){return new Promise((function(e,i){var n={method:"put",url:r+"/api/v1/admin/brand",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data)})).catch((function(t){i(t)}))}))}function d(t){return new Promise((function(e,i){var n={method:"get",url:r+"/api/v1/admin/brand/status/"+t,headers:{"Content-Type":"application/json"}};a(n).then((function(t){e(t.data)})).catch((function(t){i(t)}))}))}},64732:function(t,e,i){i.d(e,{Du:function(){return d},NX:function(){return l},Nf:function(){return f},Oo:function(){return s},U1:function(){return o},iE:function(){return c},vN:function(){return u}});i(41539);var n=i(31223),a=i(26166),r=(0,n.X)();function o(){return new Promise((function(t,e){var i={method:"get",url:r+"/api/v1/user/speciality",headers:{"Content-Type":"application/json"}};a(i).then((function(e){t(e.data.data)})).catch((function(t){console.log(t),e(t)}))}))}function c(){return new Promise((function(t,e){var i={method:"get",url:r+"/api/v1/user/speciality/key",headers:{"Content-Type":"application/json"}};a(i).then((function(e){t(e.data.data)})).catch((function(t){console.log(t),e(t)}))}))}function s(){return new Promise((function(t,e){var i={method:"get",url:r+"/api/v1/admin/speciality",headers:{"Content-Type":"application/json"}};a(i).then((function(e){t(e.data.data)})).catch((function(t){console.log(t),e(t)}))}))}function l(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/admin/speciality/new",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){console.log(t),i(t)}))}))}function d(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/admin/speciality/old",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){console.log(t),i(t)}))}))}function u(t){return new Promise((function(e,i){var n={method:"put",url:r+"/api/v1/admin/speciality",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){console.log(t),i(t)}))}))}function f(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/admin/speciality/status/"+t,headers:{"Content-Type":"application/json"}};a(n).then((function(t){e(t.data.data)})).catch((function(t){console.log(t),i(t)}))}))}},17431:function(t,e,i){i.d(e,{BY:function(){return o},M1:function(){return s},MG:function(){return d},Vo:function(){return c},eM:function(){return l}});i(41539);var n=i(31223),a=i(26166),r=(0,n.X)();function o(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/user/product/filter",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}function c(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/user/product/filter/total/page",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}function s(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/user/product/search",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}function l(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/user/product/search/total",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}function d(t){return new Promise((function(e,i){var n={method:"post",url:r+"/api/v1/user/product/search/totalPage",headers:{"Content-Type":"application/json"},data:t};a(n).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}},16198:function(t,e,i){i.d(e,{Z:function(){return a}});i(41539);function n(t,e,i,n,a,r,o){try{var c=t[r](o),s=c.value}catch(l){return void i(l)}c.done?e(s):Promise.resolve(s).then(n,a)}function a(t){return function(){var e=this,i=arguments;return new Promise((function(a,r){var o=t.apply(e,i);function c(t){n(o,a,r,c,s,"next",t)}function s(t){n(o,a,r,c,s,"throw",t)}c(void 0)}))}}}}]);
//# sourceMappingURL=736-legacy.9f522209.js.map