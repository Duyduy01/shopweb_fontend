"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[183],{68183:function(t,a,i){i.r(a),i.d(a,{default:function(){return h}});var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[t._m(0),i("div",{staticClass:"container-fluid mt-4"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"brand-product"},[i("div",{staticClass:"container d-flex justify-content-around"},t._l(t.listBrand,(function(a){return i("div",{key:a.id},[i("label",{class:t.id!=a.id?"label-brand":"label-brand label-brand-active",attrs:{for:"brand"+a.id}},[i("img",{attrs:{src:a.icon,alt:"",srcset:""}}),t._v(" "+t._s(a.brandName)+" ")]),i("input",{attrs:{type:"radio",name:"brand-choose",id:"brand"+a.id,"data-id":a.id,hidden:""},on:{click:t.activeBrand}})])})),0)])]),i("div",{staticClass:"col-3"},[i("div",{staticClass:"brand-cate-main"},[t._m(1),i("div",{staticClass:"brand-cate"},t._l(t.listCate,(function(a,e){return i("div",{key:a.id},[i("div",{staticClass:"brand-cate-parent"},[i("label",{attrs:{for:""}},[i("h4",[t._v(t._s(t.listKeyCate(e)[1]))])])]),i("div",{staticClass:"ml-5"},t._l(t.listCate[e],(function(a){return i("div",{key:a.id,staticClass:"brand-cate-child"},[i("label",{attrs:{for:"cate-"+a.id}},[t._v(t._s(a.categoryName))]),i("input",{attrs:{type:"radio",name:"cate-choose",id:"cate-"+a.id,"data-id":a.id,hidden:""},on:{click:t.activeCate}})])})),0)])})),0)])]),i("div",{staticClass:"col-9"},[i("div",{staticClass:"container-fluid brand-list-product"},[i("div",{staticClass:"row"},[i("div",{staticClass:"m-header"},[i("div",{staticClass:"m-sort-right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.dataApi.sort,expression:"dataApi.sort"}],attrs:{name:"sort",id:"m-sort"},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.dataApi,"sort",a.target.multiple?i:i[0])},t.sortFilter]}},[i("option",{attrs:{value:"1"}},[t._v("Mới Nhất")]),i("option",{attrs:{value:"2"}},[t._v("Bán chạy nhất")]),i("option",{attrs:{value:"3"}},[t._v("Giá từ cao tới thấp")]),i("option",{attrs:{value:"4"}},[t._v("Giá từ thấp tới cao")])])])]),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[0==t.listProduct.length?i("h3",{staticClass:"text-center"},[t._v(" Không có sản phẩm nào ! ")]):t._e()]),t._l(t.listProduct,(function(a){return i("div",{key:a.id,staticClass:"mt-5 col-3"},[i("div",{staticClass:"product-list"},[i("router-link",{attrs:{to:"/chi-tiet-san-pham/"+a.id}},[i("div",{staticClass:"single-gallery-image",style:"background: url("+a.img+")"})]),i("div",{staticClass:"product-action"},[i("button",{staticClass:"icon-heart",domProps:{innerHTML:t._s(a.favorite?t.like:t.dislike)},on:{click:function(i){return t.favoriteProduct(a)}}})])],1),i("div",{staticClass:"product-detail"},[i("div",{staticClass:"product-name"},[i("a",{attrs:{href:"#"}},[t._v(" "+t._s(a.productName)+" ")])]),i("div",{staticClass:"price-sell"},[0!=a.sale?i("span",[i("span",{staticStyle:{color:"black","text-decoration":"line-through"}},[t._v(t._s(t.toMoney(a.priceSell/((100-a.sale)/100)))+" ")]),i("span",[t._v("- "+t._s(t.toMoney(a.priceSell))+" (-"+t._s(a.sale)+")%")])]):t._e(),0==a.sale?i("span",{staticStyle:{color:"black"}},[t._v(" "+t._s(t.toMoney(a.priceSell))+" ")]):t._e()])])])}))],2)])]),i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"page-size":1},on:{"current-change":t.handleCurrentChange}})],1)])])])])])},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"m-banner"},[i("div",{staticClass:"m-banner-details"},[i("span")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("h4",[t._v("Danh mục sản phẩm")]),i("hr")])}],r=i(16198),s=(i(78975),i(74916),i(23123),i(68309),i(41539),i(54747),i(51048)),c=i(60909),l={props:["id"],data:function(){return{listBrand:[],listCate:{},listProduct:[],totalPage:1,sort:1,dislike:'<i class="far fa-heart"></i>',like:'<i class="fas fa-heart"></i>',dataApi:{brand:this.id,category:"",sort:1,page:1,limit:8}}},created:function(){var t=this;(0,s.I)().then((function(a){t.listCate=a})),(0,c.lR)().then((function(a){t.listBrand=a})),this.callApi(this.id),this.callApiTotal(this.id),window.scrollTo(0,0)},computed:{getBrandByUrl:function(){return this.id}},watch:{getBrandByUrl:function(){var t=this.getBrandByUrl;this.dataApi.page=1,this.callApi(t),this.callApiTotal(t),window.scrollTo(0,0)}},methods:{callApiTotal:function(t){var a=this;0!=t&&(this.dataApi.brand=t),(0,c.Xj)(this.dataApi).then((function(t){a.totalPage=t}))},callApi:function(t){var a=this;window.scrollTo(0,0),0!=t&&(this.dataApi.brand=t),console.log(this.dataApi),(0,c.Yx)(this.dataApi).then((function(t){a.listProduct=t}))},handleCurrentChange:function(t){this.dataApi.page=t,this.callApi(0)},sortFilter:function(){this.callApi(0)},listKeyCate:function(t){var a=t.split(",");return a},activeBrand:function(t){var a=t.path[0].getAttribute("data-id");this.$router.push("/nhan-hieu/".concat(a)).catch((function(t){if("NavigationDuplicated"!=t.name)throw t}))},activeCate:function(t){var a=t.path[1].childNodes[0],i=t.path[0].getAttribute("data-id"),e=document.querySelectorAll(".brand-cate-child>label");e.forEach((function(t){t.classList.remove("brand-cate-child-active")})),a.classList.add("brand-cate-child-active"),this.dataApi.category=i,this.dataApi.page=1,this.callApi(0),this.callApiTotal(0)},favoriteProduct:function(t){var a=this;return(0,r.Z)(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e=a.$root.$refs.userHeader.favoriteProductHeader(t.id),e.then((function(a){t.favorite=1!=a}));case 2:case"end":return i.stop()}}),i)})))()},toMoney:function(t){var a=new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"});return a.format(t)}}},o=l,d=i(43736),u=(0,d.Z)(o,e,n,!1,null,"72b32b6c",null),h=u.exports},16198:function(t,a,i){i.d(a,{Z:function(){return n}});i(41539);function e(t,a,i,e,n,r,s){try{var c=t[r](s),l=c.value}catch(o){return void i(o)}c.done?a(l):Promise.resolve(l).then(e,n)}function n(t){return function(){var a=this,i=arguments;return new Promise((function(n,r){var s=t.apply(a,i);function c(t){e(s,n,r,c,l,"next",t)}function l(t){e(s,n,r,c,l,"throw",t)}c(void 0)}))}}}}]);
//# sourceMappingURL=183-legacy.d87a3b5c.js.map