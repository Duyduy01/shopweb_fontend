{"version":3,"file":"js/221-legacy.358b3957.js","mappings":"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","sources":["webpack://front_end_do_an/./src/views/login/Verify.vue?48e9","webpack://front_end_do_an/src/views/login/Verify.vue","webpack://front_end_do_an/./src/views/login/Verify.vue?d238","webpack://front_end_do_an/./src/views/login/Verify.vue","webpack://front_end_do_an/./src/service/login/authen.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"l-page-desgin\"},[_vm._m(0),_c('form',{ref:\"form\",attrs:{\"method\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.verify.apply(null, arguments)}}},[_c('div',{staticClass:\"form-login-input-page\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"text\",\"id\":\"email\",\"placeholder\":\"Mã xác nhận *\",\"name\":\"verificationCode\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}})]),_c('div',{staticClass:\"l-list-button-page\"},[_c('div',{staticClass:\"l-button-login-page-forgot text-center\"},[_c('button',{staticClass:\"submit\",attrs:{\"type\":\"submit\",\"id\":\"login\"}},[_vm._v(\"Xác nhận\")]),_c('button',{staticClass:\"ml-2 sendTo\",attrs:{\"type\":\"button\",\"id\":\"login\"},on:{\"click\":_vm.sendCodeToEmail}},[_vm._v(\" Gửi lại \")])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-detail-page-forgot forgot-design\"},[_c('div',[_c('h1',[_vm._v(\"Xác nhận email\")])]),_c('div',[_c('p',[_vm._v(\" Chúng tôi sẽ gửi cho bạn một email hãy kiểm tra và xác nhập code. \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"l-themes-page\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Mã xác nhận *\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <div class=\"l-page-desgin\">\r\n        <div class=\"l-detail-page-forgot forgot-design\">\r\n          <div>\r\n            <h1>Xác nhận email</h1>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              Chúng tôi sẽ gửi cho bạn một email hãy kiểm tra và xác nhập code.\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <form method=\"\" @submit.prevent=\"verify\" ref=\"form\">\r\n          <div class=\"form-login-input-page\">\r\n            <div class=\"l-themes-page\">\r\n              <label for=\"email\">Mã xác nhận *</label>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              id=\"email\"\r\n              placeholder=\"Mã xác nhận *\"\r\n              name=\"verificationCode\"\r\n              v-model=\"code\"\r\n            />\r\n            <!-- <div class=\"error\" v-if=\"submitted && !$v.code.required\" >Nhập mã xác nhận</div>\r\n                <div class=\"error\" v-if=\"!$v.code.minLength\">Mã xác nhận phải có {{$v.code.$params.maxLength.max}} kí tự.</div>\r\n                 <div class=\"error\" v-if=\"!$v.code.maxLength\">Mã xác nhận phải có {{$v.code.$params.maxLength.max}} kí tự.</div> -->\r\n          </div>\r\n\r\n          <div class=\"l-list-button-page\">\r\n            <div class=\"l-button-login-page-forgot text-center\">\r\n              <button type=\"submit\" id=\"login\" class=\"submit\">Xác nhận</button>\r\n              <button\r\n                class=\"ml-2 sendTo\"\r\n                type=\"button\"\r\n                id=\"login\"\r\n                @click=\"sendCodeToEmail\"\r\n              >\r\n                Gửi lại\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { validationMixin } from \"vuelidate\";\r\nimport {\r\n  required,\r\n  numeric,\r\n  maxLength,\r\n  minLength,\r\n} from \"vuelidate/lib/validators\";\r\nimport { verifyEmail, sendToCode } from \"@/service/login/authen\";\r\nexport default {\r\n  name: \"Verify\",\r\n  mixins: [validationMixin],\r\n  props: [\"email\"],\r\n  data() {\r\n    return {\r\n      code: \"\",\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    window.scrollTo(0, 0);\r\n  },\r\n  validations: {\r\n    code: {\r\n      required,\r\n      numeric,\r\n      minLength: minLength(6),\r\n      maxLength: maxLength(6),\r\n    },\r\n  },\r\n  methods: {\r\n    check() {\r\n      console.log(\"user\" + localStorage.getItem(\"user\"));\r\n    },\r\n    verify(e) {\r\n      let self = this;\r\n      e.preventDefault();\r\n      this.submitted = true;\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        console.log(\"error register\");\r\n      } else {\r\n        var data = JSON.stringify({\r\n          email: this.email,\r\n          verificationCode: this.code,\r\n        });\r\n        verifyEmail(data)\r\n          .then(function (res) {\r\n            console.log(res);\r\n            let router = \"/dang-nhap\";\r\n            self.$swal(\"Thành công\", \"Đăng ký thành công !\", \"success\");\r\n            self.$router.push(router);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n            console.log(\"that bai\");\r\n            self.$swal(\"Xác nhận\", \"Mã xác nhận không đúng !\", \"error\");\r\n          });\r\n      }\r\n    },\r\n    sendCodeToEmail() {\r\n      let self = this;\r\n      let data = JSON.stringify({\r\n        email: this.email,\r\n      });\r\n      sendToCode(data)\r\n        .then(function (res) {\r\n          console.log(res);\r\n          self.$swal(\r\n            \"Gửi mã xác nhận thành công\",\r\n            \"Quý khách vui lòng kiểm tra gmail sử dụng để đăng ký tài khoản!\",\r\n            \"success\"\r\n          );\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          console.log(\"that bai\");\r\n          self.$swal(\"Xác nhận\", \"Mã xác nhận không đúng !\", \"error\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.l-page-desgin {\r\n  width: 60%;\r\n  padding: 2rem;\r\n  margin: auto;\r\n}\r\n\r\n/* tiêu đề */\r\n.l-detail-page {\r\n  font-weight: 100;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.l-detail-page > div {\r\n  padding: 1.5rem 0 0 1rem;\r\n}\r\n\r\n.l-detail-page > .l-themes-login-page {\r\n  position: relative;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.l-detail-page > .l-themes-login-page::after {\r\n  position: absolute;\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  content: \"\";\r\n  background-color: black;\r\n  top: 0;\r\n  bottom: 1;\r\n  left: 1;\r\n  right: 0;\r\n  margin: 3rem 0 0 0.5rem;\r\n}\r\n\r\n.l-detail-page > .l-themes-register-page > h1 > a {\r\n  text-decoration: none;\r\n  color: rgba(54, 53, 53, 0.815);\r\n}\r\n\r\n.l-detail-page > .l-themes-register-page > h1:hover > a {\r\n  color: black;\r\n}\r\n\r\n/* lable */\r\n.l-themes-page > label {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n/* input */\r\n.form-login-input-page {\r\n  padding: 1.1rem;\r\n  width: 100%;\r\n  margin: auto;\r\n}\r\n\r\n.form-login-input-page > input {\r\n  width: 100%;\r\n  padding: 0.2rem 0.6rem;\r\n  border: 1px solid rgba(218, 217, 217, 0.815);\r\n  height: 3rem;\r\n}\r\n\r\n.l-list-button-page {\r\n  width: 97%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 1.2rem auto;\r\n}\r\n\r\n.l-footer-page > .forgot-password-page > a {\r\n  text-decoration: none;\r\n  color: rgba(54, 53, 53, 0.815);\r\n  line-height: 3.5rem;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.l-footer-page > .forgot-password-page:hover > a {\r\n  color: black;\r\n}\r\n\r\n/* register */\r\n\r\n.l-list-button-page > .l-button-register-page {\r\n  width: 100%;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.l-list-button-page > .l-button-register-page > .register {\r\n  height: 3.6rem;\r\n  width: 100%;\r\n  padding: 0.8rem;\r\n\r\n  background-color: black;\r\n  border: 1px solid black;\r\n  color: #fff;\r\n}\r\n\r\n.l-list-button-page > .l-button-register-page:hover > .register {\r\n  background-color: #fff;\r\n  border: 1px solid black;\r\n  color: black;\r\n}\r\n\r\n/* forgot */\r\n.forgot-design {\r\n  margin: 2rem 0;\r\n  text-align: center;\r\n}\r\n\r\n.l-list-button-page > .l-button-login-page-forgot {\r\n  width: 100%;\r\n}\r\n\r\n.l-list-button-page > .l-button-login-page-forgot > button {\r\n  height: 3.6rem;\r\n\r\n  padding: 0.8rem;\r\n\r\n  color: #fff;\r\n}\r\n\r\n.l-list-button-page > .l-button-login-page-forgot > .submit {\r\n  background-color: black;\r\n  border: 1px solid black;\r\n}\r\n\r\n.l-list-button-page > .l-button-login-page-forgot > .submit:hover {\r\n  background-color: #fff;\r\n  border: 1px solid black;\r\n  color: black;\r\n}\r\n\r\n/* l-button-login-page-forgot-cancel */\r\n.l-button-login-page-forgot-cancel {\r\n  padding: 0.8rem;\r\n}\r\n\r\n.sendTo {\r\n  color: #fff;\r\n  background-color: black;\r\n}\r\n\r\n.l-list-button-page > .l-button-login-page-forgot > .sendTo:hover {\r\n  background-color: #fff;\r\n  border: 1px solid black;\r\n  color: black;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Verify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Verify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Verify.vue?vue&type=template&id=3d9b2c3d&scoped=true&\"\nimport script from \"./Verify.vue?vue&type=script&lang=js&\"\nexport * from \"./Verify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Verify.vue?vue&type=style&index=0&id=3d9b2c3d&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d9b2c3d\",\n  null\n  \n)\n\nexport default component.exports","var axios = require('axios');\r\nimport {\r\n    getHost\r\n} from \"@/service/get-host\"\r\nlet url = getHost()\r\n\r\n\r\nexport function verifyEmail(data) {\r\n    return new Promise((res, rej) => {\r\n        var config = {\r\n            method: \"post\",\r\n            url: url + \"/api/v1/user/email/verify\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            data: data,\r\n        };\r\n        axios(config)\r\n            .then(function (response) {\r\n                res(response.data.data);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                rej(\"Wrong email or password\");\r\n            });\r\n\r\n    })\r\n}\r\n\r\n\r\nexport function sendToCode(data) {\r\n    return new Promise((res, rej) => {\r\n        var config = {\r\n            method: \"post\",\r\n            url: url + \"/api/v1/user/sendCode/verify\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            data: data,\r\n        };\r\n        axios(config)\r\n            .then(function (response) {\r\n                res(response.data.data);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                rej(\"Wrong email or password\");\r\n            });\r\n\r\n    })\r\n}\r\n\r\n\r\nexport function registerUserNew(data) {\r\n    return new Promise((res, rej) => {\r\n        var config = {\r\n            method: \"post\",\r\n            url: url + \"/api/v1/user/register\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            data: data,\r\n        };\r\n        axios(config)\r\n            .then(function (response) {\r\n                res(response.data.data);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                rej(\"Wrong email or password\");\r\n            });\r\n\r\n    })\r\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","on","$event","preventDefault","verify","apply","arguments","directives","name","rawName","value","expression","domProps","target","composing","code","_v","sendCodeToEmail","staticRenderFns","mixins","props","data","submitted","created","window","scrollTo","validations","required","numeric","minLength","maxLength","methods","check","console","log","localStorage","getItem","e","$v","$touch","$invalid","JSON","stringify","email","verificationCode","verifyEmail","then","self","catch","sendToCode","component","axios","require","url","getHost","Promise","res","rej","config","method","headers","response","error","registerUserNew"],"sourceRoot":""}