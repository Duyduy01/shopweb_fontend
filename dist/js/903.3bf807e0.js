"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[903],{58903:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"block text-center d-flex mb-4"},[n("span",{staticClass:"demonstration"},[t._v("Chọn ngày: ")]),n("el-date-picker",{attrs:{type:"datetime",placeholder:"Select date and time","picker-options":t.pickerOptions,format:"dd/MM/yyyy"},model:{value:t.dataReport.oneDay,callback:function(e){t.$set(t.dataReport,"oneDay",e)},expression:"dataReport.oneDay"}},[t._v(" > ")])],1),n("div",{staticClass:"w-50 m-auto d-flex justify-content-between"},[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.searchReport}},[t._v(" Tìm kiếm ")]),n("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.exportExcel}},[t._v(" Xuất EXCEL ")]),n("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.exportPdf}},[t._v(" Xuất PDF ")])]),n("div",{staticClass:"between:flex bottom:margin-3"},[n("div",{staticClass:"center:flex-items"},[n("span",{staticClass:"right:margin-1"},[t._v("Hiển thị")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentEntries,expression:"currentEntries"}],staticClass:"select",staticStyle:{width:"5rem"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentEntries=e.target.multiple?n:n[0]},t.paginateEntries]}},t._l(t.showEntries,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),n("span",{staticClass:"left:margin-1"},[t._v("mục")])]),n("div",{staticClass:"end:flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"input px:width-25",attrs:{type:"search",placeholder:"Tìm kiếm tại đấy..."},domProps:{value:t.searchInput},on:{keyup:t.searchEvent,input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})])]),n("div",[n("table",{staticClass:"table table:border secondary-5:border text-center"},[n("thead",[n("tr",t._l(t.tableHeader,(function(e){return n("th",{key:e.name},[n("div",{staticClass:"between:flex center:items"},[n("span",[t._v(t._s(e.text))]),n("span",{on:{click:function(n){return n.preventDefault(),t.sortByColumn(e.name)}}},[null==t.check?n("div",[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-sort"}})],1):t._e(),0==t.check?n("div",[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-sort-down"}})],1):t._e(),t.check?n("div",[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-sort-up"}})],1):t._e()])])])})),0)]),n("tbody",t._l(t.tableData,(function(e,a){return n("tr",{key:e.id},[n("td",[t._v(t._s(a+1))]),n("td",[t._v(t._s(e.code))]),n("td",[t._v(t._s(e.userName))]),n("td",[t._v(t._s(t.formatDate(e.billDate)))]),n("td",[t._v(t._s(t.formatDate(e.deliveryTime)))]),n("td",[t._v(t._s(e.quantity))]),n("td",[t._v(t._s(t.toMoney(e.totalPrice)))])])})),0)])]),n("div",{staticClass:"between:flex y:margin-3"},[n("div",[t._v(" Hiển thị từ "+t._s(t.showInfo.from)+" đến "+t._s(t.showInfo.to)+" / "+t._s(t.showInfo.of)+" ")]),n("div",{staticClass:"end:flex"},[n("ul",{staticClass:"pagination:nav"},[n("li",{class:["nav-item",{disabled:1===t.currentPage}]},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage=1,t.paginateEntries()}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angles-left"}})],1)]),n("li",{class:["nav-item",{disabled:1===t.currentPage}]},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage<1?t.currentPage=1:t.currentPage-=1,t.paginateEntries()}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-left"}})],1)]),t._l(t.showPagination,(function(e){return n("li",{key:e,class:["nav-item",{ellipsis:"..."===e,active:e===t.currentPage}]},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.paginateEvent(e)}}},[t._v(t._s(e))])])})),n("li",{class:["nav-item",{disabled:t.currentPage===t.allPages}]},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage>t.allPages?t.currentPage=t.allPages:t.currentPage+=1,t.paginateEntries()}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-right"}})],1)]),n("li",{class:["nav-item",{disabled:t.currentPage===t.allPages}]},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.currentPage=t.allPages,t.paginateEntries()}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angles-right"}})],1)])],2)])]),n("div",{staticClass:"container-fluid"},[n("h5",{staticClass:"d-flex justify-content-end"},[n("span",[t._v("Tổng ")]),n("span",[t._v(" : "+t._s(t.toMoney(t.total)))])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-header"},[n("h1",[t._v("Báo cáo doanh số theo một ngày")])])}],i=n(75587),s=n(17133),o=n.n(s),c=n(41038),l={name:"AdminProduct",data(){return{columns:[{name:"id",text:"ID"},{name:"code",text:"Mã hóa đơn"},{name:"userName",text:"Khách hàng"},{name:"billDate",text:"Ngày đặt"},{name:"deliveryTime",text:"Ngày nhận"},{name:"quantity",text:"Số Lượng"},{name:"totalPrice",text:"Tổng tiền"}],entries:[],showEntries:[5,10,15,25,50,72,100],currentEntries:10,filteredEntries:[],currentPage:1,allPages:1,searchInput:"",searchEntries:[],col:{id:"",code:"",userName:"",billDate:"",deliveryTime:"",quantity:"",ship:"",totalPrice:""},sortcol:{id:"",code:"",userName:"",billDate:"",deliveryTime:"",quantity:"",ship:"",totalPrice:""},pickerOptions:{shortcuts:[{text:"Hiện tại",onClick(t){t.$emit("pick",new Date)}},{text:"Hôm qua",onClick(t){const e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"1 tuần trước",onClick(t){const e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dataReport:{oneDay:new Date},check:null,total:0}},computed:{showInfo(){return i.uh.show(this.getCurrentEntries(),this.currentPage,this.currentEntries)},showPagination(){return i.uh.pagination(this.allPages,this.currentPage,2)},tableHeader(){return this.columns},tableData(){return this.filteredEntries}},created(){this.searchReport()},methods:{paginateEntries(){this.searchInput.length>0?(this.searchEntries=i.uh.search(this.entries,this.searchInput),this.paginateData(this.searchEntries)):(this.searchEntries=[],this.paginateData(this.entries),this.col={id:"",code:"",userName:"",billDate:"",deliveryTime:"",quantity:"",ship:"",totalPrice:""})},paginateEvent(t){this.currentPage=t,this.paginateEntries()},searchEvent(){this.currentPage=1,this.paginateEntries()},paginateData(t){this.filteredEntries=i.uh.paginate(t,this.currentPage,this.currentEntries),this.allPages=i.uh.pages(t,this.currentEntries)},getCurrentEntries(){return this.searchInput.length<=0?this.entries:this.searchEntries},uniqColumData(t){return i.uh.unique(this.getCurrentEntries(),t)},filterByColumn(){const t=i.T4.removeBy(this.col,"");let e=this.getCurrentEntries();Object.entries(t).length>=1&&(e=i.uh.filtered(this.getCurrentEntries(),t)),this.paginateData(e)},sortByColumn(t){this.col={id:"",code:"",userName:"",billDate:"",deliveryTime:"",quantity:"",ship:"",totalPrice:""};let e=this.getCurrentEntries(),n=this.sortcol[t];""===n?(this.sortcol[t]="asc",e=i.uh.sorted(this.getCurrentEntries(),t,"asc"),this.check=!1):"asc"===n?(this.sortcol[t]="desc",e=i.uh.sorted(this.getCurrentEntries(),t,"desc"),this.check=!0):"desc"===n&&(this.sortcol[t]="",this.check=null),this.paginateData(e)},formatDate(t){if(null==t)return"Chưa nhận";let e=o()(String(t)).format("DD/MM/YYYY HH:mm:ss");return e},toMoney(t){var e=new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"});return e.format(t)},searchReport(){let t=o()(this.dataReport.oneDay).format("YYYY-MM-DD"),e=JSON.stringify({oneDay:t});(0,c.TR)(e).then((t=>{this.entries=t,this.paginateData(this.entries)})),(0,c.l1)(e).then((t=>{this.total=t}))},exportExcel(){let t=o()(this.dataReport.oneDay).format("YYYY-MM-DD");(0,c.rD)(t).then((e=>{console.log(e);const n=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","bao-cao-"+t+".xlsx"),document.body.appendChild(a),a.click()})).catch((t=>{console.log(t)}))},exportPdf(){let t=o()(this.dataReport.oneDay).format("YYYY-MM-DD");(0,c.dG)(t).then((e=>{console.log(e);const n=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=n,a.setAttribute("download","bao-cao-"+t+".pdf"),document.body.appendChild(a),a.click()})).catch((t=>{console.log(t)}))}},mounted(){}},u=l,d=n(43736),h=(0,d.Z)(u,a,r,!1,null,"09bec0e4",null),p=h.exports},41038:function(t,e,n){n.d(e,{F:function(){return u},KH:function(){return p},TR:function(){return s},af:function(){return h},b4:function(){return d},dG:function(){return l},l1:function(){return o},rD:function(){return c}});var a=n(31223),r=n(26166);let i=(0,a.X)();function s(t){return new Promise(((e,n)=>{var a={method:"post",url:i+"/api/v1/admin/report/one-day",headers:{"Content-Type":"application/json"},data:t};r(a).then((function(t){e(t.data)})).catch((function(t){console.log(t),n(t)}))}))}function o(t){return new Promise(((e,n)=>{var a={method:"post",url:i+"/api/v1/admin/report/total/one-day",headers:{"Content-Type":"application/json"},data:t};r(a).then((function(t){e(t.data.data)})).catch((function(t){console.log(t),n(t)}))}))}function c(t){return new Promise(((e,n)=>{var a={method:"get",url:i+"/api/v1/admin/report/one-day/export/excel/"+t,headers:{"Content-Type":"application/json"},responseType:"blob"};r(a).then((function(t){e(t)})).catch((function(t){console.log(t),n(t)}))}))}function l(t){return new Promise(((e,n)=>{var a={method:"get",url:i+"/api/v1/admin/report/one-day/export/pdf/"+t,headers:{"Content-Type":"application/json"},responseType:"blob"};r(a).then((function(t){e(t)})).catch((function(t){console.log(t),n(t)}))}))}function u(t){return new Promise(((e,n)=>{var a={method:"post",url:i+"/api/v1/admin/report/several-days",headers:{"Content-Type":"application/json"},data:t};r(a).then((function(t){e(t.data)})).catch((function(t){console.log(t),n(t)}))}))}function d(t){return new Promise(((e,n)=>{var a={method:"post",url:i+"/api/v1/admin/report/total/several-days",headers:{"Content-Type":"application/json"},data:t};r(a).then((function(t){e(t.data.data)})).catch((function(t){console.log(t),n(t)}))}))}function h(t,e){return new Promise(((n,a)=>{var s={method:"get",url:i+"/api/v1/admin/report/several-days/export/excel/"+t+"/to/"+e,headers:{"Content-Type":"application/json"},responseType:"blob"};r(s).then((function(t){n(t)})).catch((function(t){console.log(t),a(t)}))}))}function p(t,e){return new Promise(((n,a)=>{var s={method:"get",url:i+"/api/v1/admin/report/several-days/export/pdf/"+t+"/to/"+e,headers:{"Content-Type":"application/json"},responseType:"blob"};r(s).then((function(t){n(t)})).catch((function(t){console.log(t),a(t)}))}))}}}]);
//# sourceMappingURL=903.3bf807e0.js.map