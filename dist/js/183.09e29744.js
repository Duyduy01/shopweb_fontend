"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[183],{68183:function(t,a,i){i.r(a),i.d(a,{default:function(){return h}});var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[t._m(0),i("div",{staticClass:"container-fluid mt-4"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"brand-product"},[i("div",{staticClass:"container d-flex justify-content-around"},t._l(t.listBrand,(function(a){return i("div",{key:a.id},[i("label",{class:t.id!=a.id?"label-brand":"label-brand label-brand-active",attrs:{for:"brand"+a.id}},[i("img",{attrs:{src:a.icon,alt:"",srcset:""}}),t._v(" "+t._s(a.brandName)+" ")]),i("input",{attrs:{type:"radio",name:"brand-choose",id:"brand"+a.id,"data-id":a.id,hidden:""},on:{click:t.activeBrand}})])})),0)])]),i("div",{staticClass:"col-3"},[i("div",{staticClass:"brand-cate-main"},[t._m(1),i("div",{staticClass:"brand-cate"},t._l(t.listCate,(function(a,e){return i("div",{key:a.id},[i("div",{staticClass:"brand-cate-parent"},[i("label",{attrs:{for:""}},[i("h4",[t._v(t._s(t.listKeyCate(e)[1]))])])]),i("div",{staticClass:"ml-5"},t._l(t.listCate[e],(function(a){return i("div",{key:a.id,staticClass:"brand-cate-child"},[i("label",{attrs:{for:"cate-"+a.id}},[t._v(t._s(a.categoryName))]),i("input",{attrs:{type:"radio",name:"cate-choose",id:"cate-"+a.id,"data-id":a.id,hidden:""},on:{click:t.activeCate}})])})),0)])})),0)])]),i("div",{staticClass:"col-9"},[i("div",{staticClass:"container-fluid brand-list-product"},[i("div",{staticClass:"row"},[i("div",{staticClass:"m-header"},[i("div",{staticClass:"m-sort-right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.dataApi.sort,expression:"dataApi.sort"}],attrs:{name:"sort",id:"m-sort"},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.dataApi,"sort",a.target.multiple?i:i[0])},t.sortFilter]}},[i("option",{attrs:{value:"1"}},[t._v("Mới Nhất")]),i("option",{attrs:{value:"2"}},[t._v("Bán chạy nhất")]),i("option",{attrs:{value:"3"}},[t._v("Giá từ cao tới thấp")]),i("option",{attrs:{value:"4"}},[t._v("Giá từ thấp tới cao")])])])]),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[0==t.listProduct.length?i("h3",{staticClass:"text-center"},[t._v(" Không có sản phẩm nào ! ")]):t._e()]),t._l(t.listProduct,(function(a){return i("div",{key:a.id,staticClass:"mt-5 col-3"},[i("div",{staticClass:"product-list"},[i("router-link",{attrs:{to:"/chi-tiet-san-pham/"+a.id}},[i("div",{staticClass:"single-gallery-image",style:"background: url("+a.img+")"})]),i("div",{staticClass:"product-action"},[i("button",{staticClass:"icon-heart",domProps:{innerHTML:t._s(a.favorite?t.like:t.dislike)},on:{click:function(i){return t.favoriteProduct(a)}}})])],1),i("div",{staticClass:"product-detail"},[i("div",{staticClass:"product-name"},[i("a",{attrs:{href:"#"}},[t._v(" "+t._s(a.productName)+" ")])]),i("div",{staticClass:"price-sell"},[0!=a.sale?i("span",[i("span",{staticStyle:{color:"black","text-decoration":"line-through"}},[t._v(t._s(t.toMoney(a.priceSell/((100-a.sale)/100)))+" ")]),i("span",[t._v("- "+t._s(t.toMoney(a.priceSell))+" (-"+t._s(a.sale)+")%")])]):t._e(),0==a.sale?i("span",{staticStyle:{color:"black"}},[t._v(" "+t._s(t.toMoney(a.priceSell))+" ")]):t._e()])])])}))],2)])]),i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"page-size":1},on:{"current-change":t.handleCurrentChange}})],1)])])])])])},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"m-banner"},[i("div",{staticClass:"m-banner-details"},[i("span")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("h4",[t._v("Danh mục sản phẩm")]),i("hr")])}],l=i(51048),r=i(60909),n={props:["id"],data(){return{listBrand:[],listCate:{},listProduct:[],totalPage:1,sort:1,dislike:'<i class="far fa-heart"></i>',like:'<i class="fas fa-heart"></i>',dataApi:{brand:this.id,category:"",sort:1,page:1,limit:8}}},created(){(0,l.I)().then((t=>{this.listCate=t})),(0,r.lR)().then((t=>{this.listBrand=t})),this.callApi(this.id),this.callApiTotal(this.id),window.scrollTo(0,0)},computed:{getBrandByUrl(){return this.id}},watch:{getBrandByUrl(){let t=this.getBrandByUrl;this.dataApi.page=1,this.callApi(t),this.callApiTotal(t),window.scrollTo(0,0)}},methods:{callApiTotal(t){0!=t&&(this.dataApi.brand=t),(0,r.Xj)(this.dataApi).then((t=>{this.totalPage=t}))},callApi(t){window.scrollTo(0,0),0!=t&&(this.dataApi.brand=t),console.log(this.dataApi),(0,r.Yx)(this.dataApi).then((t=>{this.listProduct=t}))},handleCurrentChange(t){this.dataApi.page=t,this.callApi(0)},sortFilter(){this.callApi(0)},listKeyCate(t){let a=t.split(",");return a},activeBrand(t){let a=t.path[0].getAttribute("data-id");this.$router.push(`/nhan-hieu/${a}`).catch((t=>{if("NavigationDuplicated"!=t.name)throw t}))},activeCate(t){let a=t.path[1].childNodes[0],i=t.path[0].getAttribute("data-id"),e=document.querySelectorAll(".brand-cate-child>label");e.forEach((t=>{t.classList.remove("brand-cate-child-active")})),a.classList.add("brand-cate-child-active"),this.dataApi.category=i,this.dataApi.page=1,this.callApi(0),this.callApiTotal(0)},async favoriteProduct(t){let a=this.$root.$refs.userHeader.favoriteProductHeader(t.id);a.then((a=>{t.favorite=1!=a}))},toMoney(t){var a=new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"});return a.format(t)}}},c=n,d=i(43736),o=(0,d.Z)(c,e,s,!1,null,"72b32b6c",null),h=o.exports}}]);
//# sourceMappingURL=183.09e29744.js.map