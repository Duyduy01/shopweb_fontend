"use strict";(self["webpackChunkfront_end_do_an"]=self["webpackChunkfront_end_do_an"]||[]).push([[605],{33605:function(t,e,i){i.r(e),i.d(e,{default:function(){return S}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"p-d-img-parent"},[a("img",{attrs:{src:t.product.img,alt:"",srcset:""}})])]),t._l(t.product.listImg,(function(t){return a("div",{key:t.id,staticClass:"col-6"},[a("div",{staticClass:"p-d-img-parent"},[a("img",{attrs:{src:t,alt:"",srcset:""}})])])}))],2)])]),a("div",{staticClass:"col-5"},[a("div",{staticClass:"list-product-detail"},[a("div",{staticClass:"product-header"},[a("div",{staticClass:"d-flex"},[a("h2",[t._v(t._s(t.productName))]),a("div",{staticClass:"ml-2"},[a("button",{attrs:{id:"love-product"},domProps:{innerHTML:t._s(t.favorite?t.like:t.dislike)},on:{click:t.favoriteProduct}})])]),a("div",[a("span",[t._v(t._s(t.product.productCode)+" ")]),t._v(" | "),a("span",[t._v("Đã bán: "+t._s(t.totalPay)+" ")]),t._v(" | "),a("span",[t._v("Đánh giá: "+t._s(t.totalRate)+" ")])]),a("div",[a("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value} / 5"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1),a("div",{staticClass:"price-sell"},[0!=t.product.sale?a("div",{staticClass:"d-flex"},[a("h5",{staticStyle:{color:"black","text-decoration":"line-through"}},[t._v(" "+t._s(t.toMoney(t.product.priceSell/((100-t.product.sale)/100)))+" ")]),a("h5",{staticStyle:{color:"red"}},[t._v(" - "+t._s(t.toMoney(t.product.priceSell))+" (-"+t._s(t.product.sale)+")% ")])]):t._e(),0==t.product.sale?a("h5",{staticStyle:{color:"black"}},[t._v(" "+t._s(t.toMoney(t.product.priceSell))+" ")]):t._e()]),a("hr")]),a("div",{class:t.checkValidate?"product-content":""},[a("div",{staticClass:"product-color"},[t._m(1),a("div",{staticClass:"d-flex"},t._l(t.listColor,(function(e){return a("div",{key:e.id,staticClass:"content-color"},[a("div",{staticClass:"color"},[a("input",{attrs:{type:"radio",name:"check-color",id:"color-"+e.id,hidden:""},domProps:{value:e.id},on:{click:t.chooseColor}}),a("label",{staticClass:"check-color",attrs:{for:"color-"+e.id,"data-id":e.id}},[t._v(" "+t._s(e.description)+" ")])])])})),0)]),a("div",{staticClass:"product-color"},[t._m(2),a("div",{staticClass:"d-flex"},t._l(t.listSize,(function(e){return a("div",{key:e.id,staticClass:"content-size d-flex"},[a("div",{staticClass:"size"},[a("input",{attrs:{type:"radio",name:"check-size",id:"size-"+e.id,hidden:""},domProps:{value:e.id},on:{click:t.chooseSize}}),a("label",{staticClass:"check-size",attrs:{for:"size-"+e.id}},[t._v(" "+t._s(e.description)+" ")])])])})),0)]),a("div",{staticClass:"product-color"},[t._m(3),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"content-size d-flex"},[a("div",{staticClass:"size"},[a("label",{staticClass:"check-size"},[t._v(" "+t._s(t.brandName)+" ")])])])])]),a("div",{staticClass:"product-color"},[t._m(4),a("div",{staticClass:"product-quantity"},[[a("el-input-number",{attrs:{"size:large":"",min:1,max:t.product.quantity},on:{change:t.handleQuantity},model:{value:t.cart.quantity,callback:function(e){t.$set(t.cart,"quantity",e)},expression:"cart.quantity"}}),a("div",[a("p",[a("span",[t._v(t._s(t.product.quantity))]),t._v(" sản phẩm có sẵn ")])])]],2)]),t.checkValidate?a("div",{staticClass:"messager"},[t._v(" Vui lòng chọn đủ thông tin ")]):t._e()]),a("hr"),a("div",{staticClass:"product-add-cart"},[a("div",{staticClass:"choose-size"},[a("a",{staticStyle:{"border-bottom":"1px solid rgba(120, 115, 115, 0.414)",cursor:"pointer","font-size":"15px"},on:{click:function(e){t.chooseModalSize=!0}}},[t._v(" Hướng dẫn chọn size ")])]),a("div",{staticClass:"info-other"},[a("div",{staticClass:"mt-4"},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-check"}}),t._v(" Miễn phí vận chuyển Cho đơn hàng ")],1),a("div",[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-check"}}),t._v(" Đổi trả miễn phí trong vòng 30 ngày kể từ ngày mua ")],1)]),a("div",{staticClass:"btn-add-cart"},[a("div",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addCart}},[t._v("Thêm vào giỏ hàng")])],1),a("div",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.payNow}},[t._v("Mua ngay")])],1),a("div",[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("Quay lại")])],1)])]),a("div",{staticClass:"foot"},[a("div",{staticClass:"foot-detail"},[a("el-collapse",[a("el-collapse-item",{attrs:{title:"Giới thiệu",name:"1"}},[a("div",{domProps:{innerHTML:t._s(t.description)}})]),a("el-collapse-item",{attrs:{title:"Mô tả",name:"2"}},[a("div",{domProps:{innerHTML:t._s(t.content)}})]),a("el-collapse-item",{attrs:{title:"Cách sử dụng",name:"3"}},[a("div",[t._v(" Giặt máy ở chế độ nhẹ, nhiệt độ thường. Không sử dụng hóa chất tẩy có chứa Clo. Phơi trong bóng mát. Sấy thùng, chế độ nhẹ nhàng. Là ở nhiệt độ trung bình 150 độ C. Giặt với sản phẩm cùng màu. Không là lên chi tiết trang trí. ")])])],1)],1)])])])])]),a("div",[a("Comment",{attrs:{productId:t.productId}})],1),a("el-dialog",{attrs:{top:"24vh",title:"Hướng dẫn chọn size",visible:t.chooseModalSize,width:"60%",height:"100vh"},on:{"update:visible":function(e){t.chooseModalSize=e}}},[a("div",{staticClass:"container text-center"},[a("img",{staticStyle:{"object-fit":"contain"},attrs:{src:i(45334),alt:"",srcset:"",width:"100%"}})])])],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-banner"},[i("div",{staticClass:"m-banner-details"},[i("span")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h5",[t._v("Màu")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h5",[t._v("Kích cỡ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h5",[t._v("Thương hiệu")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h5",[t._v("Số lượng")])])}],s=i(16198),c=(i(78975),i(82526),i(41817),i(41539),i(54747),i(38862),i(92222),i(31223)),o=i(26166),r=(0,c.X)();function l(t){return new Promise((function(e,i){var a={method:"get",url:r+"/api/v1/user/product-detail/"+t,headers:{"Content-Type":"application/json"}};o(a).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}function d(t){return new Promise((function(e,i){var a={method:"post",url:r+"/api/v1/user/product-detail",headers:{"Content-Type":"application/json"},data:t};o(a).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}function u(t){return new Promise((function(e,i){var a={method:"get",url:r+"/api/v1/user/comment"+t,headers:{"Content-Type":"application/json"}};o(a).then((function(t){e(t.data.data)})).catch((function(t){i(t)}))}))}var h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.getListComment.length>0?i("div",{staticClass:"container mt-4"},[i("hr"),t._m(0),i("hr"),t._l(t.getListComment,(function(e){return i("div",{key:e.id},[i("div",{staticClass:"cmt-username"},[i("div",[i("h5",[t._v(t._s(e.userName))])]),i("div",[i("span",[t._v(t._s(t.formatDate(e.cmtDatetime)))])])]),i("div",[i("div",{staticClass:"cmt-stars"},[i("el-rate",{attrs:{disabled:""},model:{value:e.stars,callback:function(i){t.$set(e,"stars",i)},expression:"cmt.stars"}})],1),i("div",{staticClass:"cmt-title"},[i("h6",[t._v(t._s(e.title))])]),i("div",{staticClass:"cmt-content"},[t._v(" "+t._s(e.context)+" ")])]),i("hr")])})),i("div",{staticClass:"col-12"},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.comment.totalPages,"page-size":1},on:{"current-change":t.handleCurrentChange}})],1)])],2):t._e(),0==t.getListComment.length?i("div",{staticClass:"container mt-4"},[i("hr"),t._m(1),i("hr"),i("h6",[t._v("Chưa có đánh giá nào !")]),i("hr")]):t._e()])},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h4",[t._v("Danh sách đánh giá")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h4",[t._v("Danh sách đánh giá")])])}],p=i(17133),m=i.n(p),f={props:["productId"],created:function(){this.callApiGetComment(1,3)},data:function(){return{listComment:[],comment:{}}},computed:{getListComment:function(){return this.listComment}},methods:{callApiGetComment:function(t,e){var i=this,a="/".concat(this.productId,"?page=").concat(t,"&limit=").concat(e);u(a).then((function(t){i.comment=t,i.listComment=t.content})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.callApiGetComment(t,3)},formatDate:function(t){if(null==t)return"Chưa nhận";var e=m()(String(t)).format("DD/MM/YYYY HH:mm:ss");return e}}},C=f,_=i(43736),g=(0,_.Z)(C,h,v,!1,null,"0c254404",null),y=g.exports,k=i(10928),z={props:["productId"],components:{Comment:y},data:function(){return{productName:"",product:{},listColor:[],listSize:[],choose:{productId:this.productId,sizeId:null,colorId:null},quantily:1,checkValidate:!1,cart:{productId:null,quantity:1,totalQuantity:null},favorite:!1,parentId:null,dislike:'<i class="far fa-heart"></i>',like:'<i class="fas fa-heart"></i>',totalRate:0,rating:0,totalPay:0,chooseModalSize:!1,brandName:"",content:"",description:""}},created:function(){var t=this;window.scrollTo(0,0),l(this.productId).then((function(e){console.log(e),t.totalRate=e.totalRate,t.rating=e.rate,t.totalPay=e.totalPay,t.product=e,t.listColor=e.color,t.listSize=e.size,t.productName=e.productName,t.parentId=e.id,t.favorite=e.favorite,t.brandName=e.brandName,t.content=e.content,t.description=e.description}))},methods:{chooseSize:function(t){this.cart.quantity=1,this.checkValidate=!1;var e=t.path[0].checked?1:0;if(1==e){var i=t.path[1].childNodes[1],a=document.querySelectorAll(".check-size");a.forEach((function(t){t.classList.remove("active")})),i.classList.add("active");var n=t.path[0].value;this.choose.sizeId=n,this.afterClickColorAndSize()}},chooseColor:function(t){this.cart.quantity=1,this.checkValidate=!1;var e=t.path[0].checked?1:0;if(1==e){var i=t.path[1].childNodes[1],a=document.querySelectorAll(".check-color");a.forEach((function(t){t.classList.remove("active")})),i.classList.add("active");var n=t.path[0].value;this.choose.colorId=n,null!=this.choose.sizeId&&(this.choose.sizeId=null),this.afterClickColorAndSize()}},afterClickColorAndSize:function(){var t=this,e=JSON.stringify(this.choose);d(e).then((function(e){t.product=e[0],t.checkQuantity(e)})).catch((function(t){console.log(t.response.data)}))},checkQuantity:function(t){if(null!=this.choose.colorId&&null==this.choose.sizeId){var e=document.querySelectorAll(".check-size");e.forEach((function(t){t.classList.remove("active")})),t.forEach((function(t){var e="size-"+t.size.id,i=document.getElementById(e);if(i.checked=!1,0==t.quantity){i.disabled=!0;var a=i.parentElement.childNodes[1];a.classList.add("inactive")}else{i.disabled=!1;var n=i.parentElement.childNodes[1];n.classList.remove("inactive")}}))}else this.cart.productId=t[0].id,this.cart.totalQuantity=t[0].quantity},addCart:function(){var t=this;if(null==this.choose.colorId||null==this.choose.sizeId)this.checkValidate=!0;else{if(this.$store.getters.CURRENT_USER){var e=JSON.stringify(this.cart);(0,k.Z5)(e).then((function(e){console.log(e),t.$root.$refs.userHeader.totalItemByCart()})).catch((function(t){console.log(t.response.data)}))}else this.$store.commit("SET_CART",this.cart),this.$root.$refs.userHeader.totalItemByCart();this.$swal("Thành công","Thêm vào giỏ hàng thành công","success").then((function(){}))}},payNow:function(){null==this.choose.colorId||null==this.choose.sizeId?this.checkValidate=!0:this.$router.push("/dat-hang-ngay/san-pham/".concat(this.cart.productId,"/so-luong/").concat(this.cart.quantity))},handleQuantity:function(t){console.log(t)},toMoney:function(t){var e=new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"});return e.format(t)},favoriteProduct:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.$root.$refs.userHeader.favoriteProductHeader(t.parentId),i.then((function(e){t.favorite=1!=e}));case 2:case"end":return e.stop()}}),e)})))()}}},b=z,I=(0,_.Z)(b,a,n,!1,null,"0b2f295e",null),S=I.exports},45334:function(t,e,i){t.exports=i.p+"img/change-size.7d656c42.png"},16198:function(t,e,i){i.d(e,{Z:function(){return n}});i(41539);function a(t,e,i,a,n,s,c){try{var o=t[s](c),r=o.value}catch(l){return void i(l)}o.done?e(r):Promise.resolve(r).then(a,n)}function n(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var c=t.apply(e,i);function o(t){a(c,n,s,o,r,"next",t)}function r(t){a(c,n,s,o,r,"throw",t)}o(void 0)}))}}}}]);
//# sourceMappingURL=605-legacy.49e3ba53.js.map